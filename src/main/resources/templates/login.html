<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Iniciar Sesión</title>

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

	<!-- CSS propio -->
	<link rel="stylesheet" th:href="@{/estilos/login.css}">
</head>

<body>
	<div th:replace="menu :: navbar"></div>

	<div class="container d-flex justify-content-center align-items-center vh-100">
		<div class="card shadow-lg rounded-4 overflow-hidden login-box">
			<div class="row g-0">
				
				<div class="col-md-6 d-none d-md-block bg-video">
					<video id="videoLogin" autoplay muted playsinline class="w-100 h-100">
						<source th:src="@{/img/loginv.mp4}" type="video/mp4">
						Tu navegador no soporta el video.
					</video>
				</div>

				<div class="col-md-6 p-4 d-flex align-items-center">
					<div class="card-body w-100">

						<h3 class="text-center text-primary fw-bold mb-4">
							<i class="fas fa-user-circle me-2"></i> Iniciar Sesión
						</h3>

						<form action="/login" method="post">
							<div class="mb-3">
								<label for="email" class="form-label fw-semibold">Correo Electrónico</label>
								<input type="email" class="form-control" id="email" name="email" required
									placeholder="ejemplo@correo.com">
							</div>

							<div class="mb-3">
								<label for="password" class="form-label fw-semibold">Contraseña</label>
								<input type="password" class="form-control" id="password" name="password" required
									placeholder="Tu contraseña">
							</div>

							<button type="submit" class="btn btn-primary w-100 fw-bold">
								<i class="fas fa-sign-in-alt me-1"></i> Iniciar sesión
							</button>

							<div class="mt-3 text-center">
								<p class="mb-0">¿No tienes una cuenta? <a href="/registro">Regístrate aquí</a></p>
							</div>
						</form>

					</div>
				</div>

			</div>
		</div>
	</div>

	<!-- Footer -->
	<div th:replace="footer :: footer"></div>

	<!-- Bootstrap JS & SweetAlert -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

	<!-- Alertas de mensajes -->
	<script th:inline="javascript">
		/*<![CDATA[*/
		const mensaje = /*[[${mensaje}]]*/ null;
		const error = /*[[${error}]]*/ null;

		if (mensaje) {
			Swal.fire({
				icon: 'success',
				title: '¡Éxito!',
				text: mensaje,
				showConfirmButton: false,
				timer: 2500,
				timerProgressBar: true
			});
		}

		if (error) {
			Swal.fire({
				icon: 'error',
				title: 'Error de inicio de sesión',
				text: error,
				showConfirmButton: false,
				timer: 2500,
				timerProgressBar: true
			});
		}
		/*]]>*/
	</script>

	<!-- Script para que el video reinicie al terminar -->
	<script>
		const video = document.getElementById("videoLogin");
		video.addEventListener("ended", () => {
			video.currentTime = 0;
			video.play();
		});
	</script>
</body>

</html>
